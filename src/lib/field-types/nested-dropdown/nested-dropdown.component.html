<div *ngIf="options$ | async as options" ngbDropdown #dropdown="ngbDropdown" class="platy-dropdown"
 [ngClass]="{'ng-invalid': control.invalid && !nested}">
  <div class="platy-dropdown-item">
    <button ngbDropdownItem type="button" class="item-label" [ngClass]="{'pointer-events-none': !nested}"
      (click)="onClick()">{{label$ | async}}</button>
    <div *ngIf="options.length > 0"
      ngbDropdownToggle class="platy-dropdown-toggle" [ngClass]="{'ng-invalid': control.invalid && !nested}">
    </div>
  </div>
    <div ngbDropdownMenu >
      <div *ngIf="dropdown.isOpen()">
        <lib-nested-dropdown *ngFor="let opt of options" class="nested"></lib-nested-dropdown>
      </div>
    </div>
  </div>
  